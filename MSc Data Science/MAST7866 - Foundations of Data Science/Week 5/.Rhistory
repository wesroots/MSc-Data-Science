getwd()
render("rmd1.Rmd", output_format = "html_document")
library("rmarkdown")
library("tinytex")
render("rmd1.Rmd", output_format = "html_document")
x <- 6:10
set.seed(1)
sample(x)                # permutation
sample(x, size=2)        # subset
sample(x, replace=TRUE)  # with replacement (bootstrap)
sample(x)                # permutation
sample(x)                # permutation
sample(x, size=2)        # subset
sample(x, replace=TRUE)  # with replacement (bootstrap)
# --- 7. Finding correlations ---
library(tidyverse)
library(tidyverse)
library(seasonal)
install.packages("seasonal", "ffp2")
install.packages("seasonal")
install.packages("fpp2")
library(seasonal)
library(fpp2)
GM_life <- read_csv("GM-Life Expectancy.csv")
GM_life <- read_csv("PC Sessions/Data/GM-Life Expectancy.csv")
head(GM_life)
Fertility <- read_csv("PC Sessions/Data/Total fertility rate_simplified.csv")
GM_life <- read_csv("PC Sessions/Data/GM-Life Expectancy.csv")
head(GM_life)
ts.plot(ts(GM_life[,3],start=1800,end=2024),xlab="year",ylab="Expectancy",
main = "Life Expectancy")
Fertility <- read_csv("PC Sessions/Data/Total fertility rate_simplified.csv")
head(Fertility)
x<-matrix(0,dim(Fertility)[2],4)
Fertility1<-Fertility[,1:dim(Fertility)[2]]
x<-t(Fertility1[,1:dim(Fertility)[2]])
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")
)
)
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred"
cor12<-cor(x[,1],x[,2])
library(tidyverse)
library(seasonal)
library(fpp2)
GM_life <- read_csv("PC Sessions/Data/GM-Life Expectancy.csv")
head(GM_life)
ts.plot(ts(GM_life[,3],start=1800,end=2024),xlab="year",ylab="Expectancy",
main = "Life Expectancy")
Fertility <- read_csv("PC Sessions/Data/Total fertility rate_simplified.csv")
head(Fertility)
x<-matrix(0,dim(Fertility)[2],4)
Fertility1<-Fertility[,1:dim(Fertility)[2]]
x<-t(Fertility1[,1:dim(Fertility)[2]])
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")
)
)
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred"
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred"
corgm4<-cor(x[1:225,4],GM_life[1:225,3]),
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred",
5)
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred",
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred"
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred")
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred"
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred"
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred"
cor12<-cor(x[,1],x[,2])
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred")
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred")
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred")
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred")
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred")
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred")
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey")
e
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
fert_obj <- ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")
) + legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
)
main = "Fertility in four regions",
fert_obj <- ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey"))) +
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
fert_obj <- ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")) +
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey")))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey"))
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey")))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey"))
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey")))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey"))
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey")))
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))+
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))+
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))+
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))+
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))+
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))+
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))+
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))+
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
# fert_obj <-
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")),
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey")))
ts.plot(ts(cbind(x[,1],
x[,2],
x[,3],x[,4]),start=1800,end=2024),
gpars = list(xlab = "Year",
ylab = "Fertility",
main = "Fertility in four regions",
lwd = rep(2,4),
lty = c(1:4),
col = c("darkred","darkblue","darkgreen","grey")))
legend("topright", c("Amr","Eur","Afr","Asi"), lwd = rep(2,4), lty = c(1:4), col = c("darkred","darkblue","darkgreen","grey"))
cor12<-cor(x[,1],x[,2])
cor13<-cor(x[,1],x[,3])
cor14<-cor(x[,1],x[,4])
cor23<-cor(x[,2],x[,3])
cor24<-cor(x[,2],x[,4])
cor34<-cor(x[,3],x[,4])
corgm1<-cor(x[1:225,1],GM_life[1:225,3])
corgm2<-cor(x[1:225,2],GM_life[1:225,3])
corgm3<-cor(x[1:225,3],GM_life[1:225,3])
corgm4<-cor(x[1:225,4],GM_life[1:225,3])
c(cor12,cor13,cor14,cor23,cor24,cor34,corgm1,corgm2,corgm3,corgm4)
# Pearson correlation test
test <- cor.test(x[1:225,1],GM_life[1:225,3])
# 5.3. Data Analysis in finance
#Start by setting the Working directory
#Then install the packages below if not already installed (go to Tools on the main panel)
install.packages("tseries")
library(tseries)
ibm<-read.csv("IBM.csv",header=T)
library(tseries)
ibm<-read.csv("PC Sessions/Data/IBM.csv",header=T)
names(ibm)
dim(ibm)
date1 <- ibm[,1]
date1 <- as.Date(date1, format = "%Y-%m-%d")
date <- ibm[2:dim(ibm)[1],1]
date <- as.Date(date, format = "%Y-%m-%d")
T<-nrow(ibm);
closepr<-ibm[,6];
#the command diff() allow you to calculate the log-price changes over two consective time poin
6
lreturn_IBM<-diff(log(closepr)); #log returns
T1<-length(lreturn_IBM);
lpreturn_IBM<-lreturn_IBM*100; #convert to rates
c(mean(lpreturn_IBM),var(lpreturn_IBM))
plot(closepr~date1, type="l")
plot(lpreturn_IBM ~ date, type="l")
plot(lpreturn_IBM^2 ~ date, type="l")
plot(lreturn_IBM ~ date, type="l")
plot(lpreturn_IBM ~ date, type="l", ylim=c(-16, 16))
amzn<-read.csv("PC Sessions/Data/AMZN.csv",header=T)
T<-nrow(amzn);
closepr<-amzn[,6];
lreturn_amzn<-diff(log(closepr)); #log returns
T1<-length(lreturn_amzn);
lpreturn_amzn<-lreturn_amzn*100; #convert to rates
plot(lpreturn_amzn ~ date, type="l", ylim=c(-16, 16))
amzn<-read.csv("PC Sessions/Data/AMZN.csv",header=T)
plot(lpreturn_IBM^2 ~ date, type="l")
ibm<-read.csv("PC Sessions/Data/IBM.csv",header=T)
names(ibm)
dim(ibm)
date1 <- ibm[,1]
date1 <- as.Date(date1, format = "%Y-%m-%d")
date <- ibm[2:dim(ibm)[1],1]
date <- as.Date(date, format = "%Y-%m-%d")
T<-nrow(ibm);
closepr<-ibm[,6];
#the command diff() allow you to calculate the log-price changes over two consective time poin
6
lreturn_IBM<-diff(log(closepr)); #log returns
T1<-length(lreturn_IBM);
lpreturn_IBM<-lreturn_IBM*100; #convert to rates
c(mean(lpreturn_IBM),var(lpreturn_IBM))
plot(closepr~date1, type="l")
plot(lpreturn_IBM ~ date, type="l")
plot(lpreturn_IBM^2 ~ date, type="l")
plot(lreturn_IBM ~ date, type="l")
plot(lpreturn_IBM ~ date, type="l", ylim=c(-16, 16))
amzn<-read.csv("PC Sessions/Data/AMZN.csv",header=T)
T<-nrow(amzn);
closepr<-amzn[,6];
lreturn_amzn<-diff(log(closepr)); #log returns
T1<-length(lreturn_amzn);
lpreturn_amzn<-lreturn_amzn*100; #convert to rates
plot(lpreturn_amzn ~ date, type="l", ylim=c(-16, 16))
# 5.4
# 5.4
# 5.4
# 5.3. Data Analysis in finance
#Start by setting the Working directory
#Then install the packages below if not already installed (go to Tools on the main panel)
library(tseries)
ibm<-read.csv("PC Sessions/Data/IBM.csv",header=T)
names(ibm)
dim(ibm)
date1 <- ibm[,1]
date1 <- as.Date(date1, format = "%Y-%m-%d")
date <- ibm[2:dim(ibm)[1],1]
date <- as.Date(date, format = "%Y-%m-%d")
T<-nrow(ibm);
closepr<-ibm[,6];
#the command diff() allow you to calculate the log-price changes over two consective time poin
6
lreturn_IBM<-diff(log(closepr)); #log returns
T1<-length(lreturn_IBM);
lpreturn_IBM<-lreturn_IBM*100; #convert to rates
c(mean(lpreturn_IBM),var(lpreturn_IBM))
plot(closepr~date1, type="l")
plot(lpreturn_IBM ~ date, type="l")
plot(lpreturn_IBM^2 ~ date, type="l")
plot(lreturn_IBM ~ date, type="l")
plot(lpreturn_IBM ~ date, type="l", ylim=c(-16, 16))
amzn<-read.csv("PC Sessions/Data/AMZN.csv",header=T)
T<-nrow(amzn);
closepr<-amzn[,6];
lreturn_amzn<-diff(log(closepr)); #log returns
T1<-length(lreturn_amzn);
lpreturn_amzn<-lreturn_amzn*100; #convert to rates
plot(lpreturn_amzn ~ date, type="l", ylim=c(-16, 16))
# 5.4
# 5.4
# 5.4
hist(lpreturn_IBM, 30, xlim=c(-16, 16), main="",freq=FALSE)
x<-seq(-10,+10,by=2)
curve(dnorm(x), add=TRUE)
hist(lpreturn_amzn, 30, xlim=c(-16, 16), main="",freq=FALSE)
x<-seq(-10,+10,by=2)
curve(dnorm(x), add=TRUE)
1 â€“ (pnorm(45.04, 45, 0.04) - pnorm(44.94, 45, 0.04))
1 - (pnorm(45.04, 45, 0.04) - pnorm(44.94, 45, 0.04))
1 - pnorm(45.04, 45, 0.04) - pnorm(44.94, 45, 0.04)
bill <- c(49,36,42,43,49,30,48,32,49,35,30,48)
sum(bill)
min(bill)
max(bill)
over_41 <- sum(bill > 41)
over_41 / length(bill) * 100
rm(data)
rm(bill)
bill
rm(over-41)
rm(over_41)
